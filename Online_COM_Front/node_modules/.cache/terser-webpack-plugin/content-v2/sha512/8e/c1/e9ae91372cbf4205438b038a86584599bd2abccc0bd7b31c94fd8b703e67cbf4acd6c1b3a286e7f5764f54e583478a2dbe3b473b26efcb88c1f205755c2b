{"code":"(wx[\"webpackJsonp\"]=wx[\"webpackJsonp\"]||[]).push([[8],{115:function(t,e,a){},130:function(t,e,a){\"use strict\";a.r(e);var n=a(4),c=a(6),s=a(7),i=a(15),l=a(9),r=a(10),o=a(13),m=a(1),h=a(0),u=a(8),d=a(3),j=a.n(d),O=(a(115),a(2)),p=j.a.getApp(),b=function(t){Object(l[\"a\"])(a,t);var e=Object(r[\"a\"])(a);function a(t){var n;return Object(c[\"a\"])(this,a),n=e.call(this,t),Object(o[\"a\"])(Object(i[\"a\"])(n),\"$instance\",Object(d[\"getCurrentInstance\"])()),n.state={detail:{},url:[],OnComment:!1,Comment:\"\"},n}return Object(s[\"a\"])(a,[{key:\"componentDidMount\",value:function(){var t=this,e=p.post.request(this.$instance.router.params.url+\"/detail\",\"GET\",{id:JSON.parse(this.$instance.router.params.id)});e.then((function(e){t.setState({detail:e.data[0],url:e.data[0].imageURL}),console.log(t.state.detail)}))}},{key:\"componentWillReceiveProps\",value:function(t){console.log(this.props,t)}},{key:\"shouldComponentUpdate\",value:function(t){return this.state!==t}},{key:\"componentWillUnmount\",value:function(){}},{key:\"componentDidlUpdate\",value:function(){}},{key:\"componentDidShow\",value:function(){}},{key:\"componentDidHide\",value:function(){}},{key:\"ToComment\",value:function(){this.setState({OnComment:!0})}},{key:\"CloseComment\",value:function(){this.setState({OnComment:!1})}},{key:\"WriteComment\",value:function(t){this.setState({Comment:t})}},{key:\"handOnComment\",value:function(){p.post.request(this.$instance.router.params.url+\"/detail\",\"POST\",{nickname:j.a.getStorageSync(\"NICKNAME\"),comment:this.state.Comment,id:JSON.parse(this.$instance.router.params.id)}).catch((function(t){console.log(t),j.a.showToast({title:\"\\u83b7\\u53d6\\u8bc4\\u8bba\\u5931\\u8d25\",icon:\"success\",duration:2e3})}))}},{key:\"render\",value:function(){var t=this;return\"activity\"===this.$instance.router.params.class?Object(O[\"jsxs\"])(h[\"r\"],{className:\"at-article\",children:[Object(O[\"jsx\"])(h[\"r\"],{className:\"at-article__h1\",children:this.state.detail.topicValue}),Object(O[\"jsxs\"])(h[\"r\"],{className:\"at-article__info\",children:[this.state.detail.created_at,\"\\xa0\\xa0\\xa0\",this.state.detail.nickname]}),Object(O[\"jsx\"])(h[\"r\"],{className:\"at-article__content\",children:Object(O[\"jsxs\"])(h[\"r\"],{className:\"at-article__section\",children:[Object(O[\"jsx\"])(h[\"r\"],{className:\"at-article__h3\",children:\"\\u6d3b\\u52a8\\u65f6\\u95f4\\uff1a\"}),Object(O[\"jsx\"])(h[\"r\"],{className:\"at-article__p\",children:this.state.detail.year+\"-\"+this.state.detail.month+\"-\"+this.state.detail.date+\"  \"+this.state.detail.timeValue}),Object(O[\"jsx\"])(h[\"r\"],{className:\"at-article__h3\",children:\"\\u6d3b\\u52a8\\u5730\\u70b9\\uff1a\"}),Object(O[\"jsx\"])(h[\"r\"],{className:\"at-article__p\",children:this.state.detail.placeValue}),Object(O[\"jsx\"])(h[\"r\"],{className:\"at-article__h3\",children:\"\\u6d3b\\u52a8\\u5185\\u5bb9\\uff1a\"}),Object(O[\"jsx\"])(h[\"r\"],{className:\"at-article__p\",children:this.state.detail.contentValue}),this.state.url.map((function(t,e){return Object(O[\"jsx\"])(h[\"d\"],{className:\"at-article__img\",src:p.config.file+t,mode:\"widthFix\"},e)}))]})})]}):Object(O[\"jsxs\"])(h[\"r\"],{children:[Object(O[\"jsxs\"])(h[\"r\"],{className:\"at-article\",children:[Object(O[\"jsx\"])(h[\"r\"],{className:\"at-article__h1\",children:this.state.detail.topicValue}),Object(O[\"jsxs\"])(h[\"r\"],{className:\"at-article__info\",children:[this.state.detail.created_at,\"\\xa0\\xa0\\xa0\",this.state.detail.nickname]}),Object(O[\"jsx\"])(h[\"r\"],{className:\"at-article__content\",children:Object(O[\"jsxs\"])(h[\"r\"],{className:\"at-article__section\",children:[Object(O[\"jsx\"])(h[\"r\"],{className:\"at-article__p\",children:this.state.detail.contentValue}),this.state.url.map((function(t,e){return Object(O[\"jsx\"])(h[\"d\"],{className:\"at-article__img\",src:p.config.file+t,mode:\"widthFix\"},e)}))]})})]}),Object(O[\"jsx\"])(h[\"r\"],{className:\"commment\",children:Object(O[\"jsx\"])(h[\"p\"],{children:\"\\u7559\\u8a00\\u680f\"})}),Object(O[\"jsx\"])(u[\"f\"],{className:\"at-fab__icon\",size:\"normal\",onClick:function(){return t.ToComment()},children:Object(O[\"jsx\"])(h[\"p\"],{children:\"\\u6211\\u8981\\u7559\\u8a00\"})}),Object(O[\"jsx\"])(u[\"g\"],{isOpened:this.state.OnComment,title:\"\\u7559\\u8a00\\u5185\\u5bb9\",onClose:function(){return t.CloseComment()},children:Object(O[\"jsx\"])(u[\"o\"],{value:this.state.Comment,onChange:function(e){return t.WriteComment(e)},count:!1,maxLength:200,placeholder:\"\\u8bc4\\u8bba\\u5185\\u5bb9...\",height:80})}),Object(O[\"jsx\"])(h[\"r\"],{className:\"comment-submit\",onClick:function(){return t.handOnComment()},children:Object(O[\"jsx\"])(h[\"p\"],{children:\"\\u53d1\\u5e03\\u7559\\u8a00\"})})]})}}]),a}(m[\"Component\"]),_=b,x={navigationBarTitleText:\"\\u8be6\\u60c5\\u9875\"};Page(Object(n[\"createPageConfig\"])(_,\"pages/Detail/Detail\",{root:{cn:[]}},x||{}))}},[[130,0,1,2]]]);","extractedComments":[]}