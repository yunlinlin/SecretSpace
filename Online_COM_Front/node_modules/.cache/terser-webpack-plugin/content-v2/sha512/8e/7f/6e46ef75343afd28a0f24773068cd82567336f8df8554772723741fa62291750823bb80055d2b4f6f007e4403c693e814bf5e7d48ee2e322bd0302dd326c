{"code":"(wx[\"webpackJsonp\"]=wx[\"webpackJsonp\"]||[]).push([[28],{121:function(e,t,n){\"use strict\";n.r(t);var s=n(4),a=n(6),o=n(7),i=n(9),c=n(10),r=n(3),u=n.n(r),l=n(1),d=n(0),h=(n(81),n(2)),f=u.a.getApp(),j=function(e){Object(i[\"a\"])(n,e);var t=Object(c[\"a\"])(n);function n(e){var s;return Object(a[\"a\"])(this,n),s=t.call(this,e),s.state={uid:0,password:\"\"},s}return Object(o[\"a\"])(n,[{key:\"componentDidMount\",value:function(){}},{key:\"componentWillReceiveProps\",value:function(e){console.log(this.props,e)}},{key:\"componentWillUnmount\",value:function(){}},{key:\"componentDidShow\",value:function(){}},{key:\"componentDidHide\",value:function(){}},{key:\"handOnID\",value:function(e){this.setState({uid:e.detail.value})}},{key:\"handOnPassword\",value:function(e){this.setState({password:e.detail.value})}},{key:\"handOnUserInfo\",value:function(){var e=this;setTimeout((function(){u.a.request({url:f.config.api+\"/login/loginCheck\",method:\"POST\",data:{uid:e.state.uid,password:e.state.password},success:function(e){\"\\u767b\\u5f55\\u6210\\u529f\"===e.data.message?(u.a.setStorageSync(\"USER\",e.data.token),u.a.setStorageSync(\"UID\",e.data.uid),u.a.setStorageSync(\"LEVEL\",e.data.level),u.a.showToast({title:e.data.message,icon:\"success\",duration:2e3}),setTimeout((function(){return u.a.switchTab({url:\"../index/index\"})}),2e3)):u.a.showToast({title:e.data.message,icon:\"error\",duration:2e3})}})}),100)}},{key:\"toRegist\",value:function(){u.a.redirectTo({url:\"../regist/regist\"})}},{key:\"toReset\",value:function(){u.a.redirectTo({url:\"../reset/reset\"})}},{key:\"render\",value:function(){var e=this;return Object(h[\"jsxs\"])(d[\"s\"],{className:\"container\",children:[Object(h[\"jsx\"])(d[\"s\"],{className:\"title\",children:\"\\u767b\\u9646\"}),Object(h[\"jsxs\"])(d[\"s\"],{className:\"login-box\",children:[Object(h[\"jsx\"])(d[\"q\"],{children:\"\\u5b66\\u53f7:\"}),Object(h[\"jsx\"])(d[\"f\"],{placeholder:\"\\u5b66\\u53f7\",focus:!0,onBlur:function(t){return e.handOnID(t)}})]}),Object(h[\"jsxs\"])(d[\"s\"],{className:\"login-box\",children:[Object(h[\"jsx\"])(d[\"q\"],{children:\"\\u5bc6\\u7801:\"}),Object(h[\"jsx\"])(d[\"f\"],{placeholder:\"\\u5bc6\\u7801\",onBlur:function(t){return e.handOnPassword(t)}})]}),Object(h[\"jsx\"])(d[\"s\"],{className:\"submit\",onClick:function(){return e.handOnUserInfo()},children:\"\\u767b\\u5f55\"}),Object(h[\"jsxs\"])(d[\"s\"],{className:\"sign-box\",children:[Object(h[\"jsx\"])(d[\"q\"],{onClick:function(){return e.toRegist()},children:\"\\u524d\\u5f80\\u6ce8\\u518c\"}),Object(h[\"jsx\"])(d[\"q\"],{onClick:function(){return e.toReset()},children:\"\\u5fd8\\u8bb0\\u5bc6\\u7801\\uff1f\"})]})]})}}]),n}(l[\"Component\"]),g=j,b={navigationBarTitleText:\"\\u767b\\u9646\"};Page(Object(s[\"createPageConfig\"])(g,\"pages/login/login\",{root:{cn:[]}},b||{}))},81:function(e,t,n){}},[[121,0,1,2]]]);","extractedComments":[]}